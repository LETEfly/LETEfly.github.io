(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-369bfa0f"],{"0056":function(e,t,i){"use strict";i("87b1b")},"1f3c":function(e,t,i){},2615:function(e,t,i){"use strict";i("ec67")},"3e2a":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"component-FileUpload"},[i("el-upload",{staticClass:"upload-demo",attrs:{limit:e.quantityLimit,multiple:"",action:e.attachAction,"file-list":e.fileList,"on-success":e.handleAvatarSuccess,"before-remove":e.handleBeforeRemove,"on-remove":e.handleAvatarRemove,"before-upload":e.beforeAvatarUpload,"on-exceed":e.handleExceed}},[i("el-button",{attrs:{size:"small",type:"success",icon:"el-icon-upload"}},[e._v("点击上传")]),e.tips&&e.tips.length?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[i("span",[i("i",{staticClass:"el-icon-star-on"}),e._v("上传规范：")]),i("ul",{staticClass:"Tips"},e._l(e.tips,(function(t,a){return i("li",{key:a},[e._v(e._s(t))])})),0)]):e._e()],1)],1)},s=[],l=(i("a9e3"),i("b0c0"),i("4d63"),i("ac1f"),i("25f0"),i("99af"),{name:"FileUpload",components:{},props:{fileList:{type:Array,required:!0},quantityLimit:{type:Number,default:1},sizeLimit:{type:null|Number,default:500},typeLimit:{type:null|String,default:"(.jpg|.png|.gif|.jpeg|.doc|.docx|.ppt|.pptx|.pdf|.mp4)$"},tips:{type:Array,default:function(){return[]}}},data:function(){return{attachAction:"http://192.168.1.187:64002/api/common/uploadfile"}},created:function(){},mounted:function(){},filters:{},watch:{},computed:{},methods:{handleAvatarSuccess:function(e,t,i){this.$emit("update:fileList",i)},handleBeforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"),"提示",{type:"warning"})},handleAvatarRemove:function(e,t){this.$message.success("文件已删除！"),this.$emit("update:fileList",t)},beforeAvatarUpload:function(e){return this.typeLimit&&!new RegExp(this.typeLimit).test(e.name)?(this.$popTip.warning("文件格式不正确，详情参见上传规范！"),!1):this.sizeLimit&&e.size>1024e3*this.sizeLimit?(this.$popTip.warning("文件过大，详情参见上传规范！"),!1):void 0},handleExceed:function(e,t){this.$popTip.warning("仅允许上传 ".concat(this.quantityLimit,"个文件，待上传 ").concat(e.length," 个，已上传").concat(t.length,"个，已超出(").concat(e.length+t.length,"/").concat(this.quantityLimit,")！"))}}}),o=l,n=(i("776a"),i("4098"),i("2877")),c=Object(n["a"])(o,a,s,!1,null,"67ad06e8",null);t["a"]=c.exports},4098:function(e,t,i){"use strict";i("b5db")},"4bb9":function(e,t,i){},"4c1a":function(e,t,i){"use strict";i("97ee")},"52db":function(e,t,i){e.exports=i.p+"img/Emblem Of PC.703f64a6.png"},"5b54":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("BaseDialog",{staticClass:"full-block component-addCourseDialog",attrs:{title:e.title,center:"",visible:e.visibleDialog,width:"400px",top:"20vh"},on:{"update:visible":function(t){e.visibleDialog=t},close:e.handleCloseDialog}},[i("div",{staticClass:"full-block"},[i("el-form",{attrs:{"label-width":"80px","label-position":"right"}},[i("el-form-item",{attrs:{label:"*课程名称"}},[i("el-input",{staticClass:"w230",attrs:{maxlength:20,"show-word-limit":"",placeholder:"请输入课程名称"},model:{value:e.course["cname"],callback:function(t){e.$set(e.course,"cname",t)},expression:"course['cname']"}})],1),i("el-form-item",{attrs:{label:"排序"}},[i("el-input-number",{staticClass:"w230",attrs:{min:0,precision:0},model:{value:e.course["sort"],callback:function(t){e.$set(e.course,"sort",t)},expression:"course['sort']"}}),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"用于展示课程顺序,默认排序(即值为0)！",placement:"bottom-end"}},[i("span",{staticStyle:{"padding-left":"5px"}},[i("i",{staticClass:"el-icon-info"})])])],1),i("el-form-item",{attrs:{label:"*封面"}},[i("imageUpload",{attrs:{"file-type":"url","photo-url":e.course["cover"]},on:{"update:photoUrl":function(t){return e.$set(e.course,"cover",t)},"update:photo-url":function(t){return e.$set(e.course,"cover",t)}}})],1)],1)],1),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存")]),i("el-button",{attrs:{type:"info"},on:{click:e.handleCloseDialog}},[e._v("取消")])],1)])],1)},s=[],l=(i("a9e3"),i("1e57")),o=i("08f2"),n={name:"addCourseDialog",components:{BaseDialog:o["a"],imageUpload:l["a"]},props:{courseType:{type:Number,required:!0},isClassic:{type:Boolean,default:!1}},mounted:function(){},data:function(){return{visibleDialog:!1,title:"课程信息",course:{id:0,ctype:null,cname:"",sort:0,cover:""},isAdd:!0}},computed:{},watch:{visibleDialog:function(e){e&&(this.course["ctype"]=this.courseType)}},created:function(){},methods:{handleSave:function(){if(""!==this.course["cname"])if(""!==this.course["cover"]){var e="/am/course/save";if(this.isClassic&&(e="/am/classic/save"),""!==this.course["cname"])if(""!==this.course["cover"]){var t={};t.url=e,t.action="课程新增修改",t.json=this.course;var i={result:0,error:"",errorcode:0,id:"123456W",debuginfo:""};this.isAdd?this.$emit("save",i["id"]):this.$emit("save",null),this.handleCloseDialog(),this.$message.success("已保存！")}else this.$popTip.warning("请选择合适的图片作为该课程的封面，建议采用长宽比为16:9的图片作为封面。");else this.$popTip.warning("课程名称不能为空！")}else this.$popTip.warning("请选择合适的图片作为该课程的封面，建议采用长宽比为16:9的图片作为封面。");else this.$popTip.warning("课程名称不能为空！")},handleCloseDialog:function(){this.visibleDialog=!1,this.course={id:0,ctype:null,cname:"",sort:0,cover:""},this.isAdd=!0}}},c=n,r=(i("4c1a"),i("2877")),u=Object(r["a"])(c,a,s,!1,null,"33167a84",null);t["a"]=u.exports},"6de6":function(e,t,i){"use strict";i("d53b")},"75bb":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"component-classicDetailPage full-block"},[i("div",{staticClass:"full-block DetailBlock flex-layout"},[i("div",{staticClass:"flex-none flex-row justify-between"},[i("div",[i("el-form",{attrs:{inline:""}},[i("el-form-item",{attrs:{label:"案例序号"}},[i("el-input",{staticClass:"w230",attrs:{size:"small",placeholder:"请输入案例序号",clearable:"",maxlength:10,"show-word-limit":""},model:{value:e.pageInfo.cnumber,callback:function(t){e.$set(e.pageInfo,"cnumber",t)},expression:"pageInfo.cnumber"}})],1),i("el-form-item",{attrs:{label:"案例标题"}},[i("el-input",{staticClass:"w230",attrs:{size:"small",placeholder:"请输入案例标题",maxlength:20,"show-word-limit":"",clearable:""},model:{value:e.pageInfo.title,callback:function(t){e.$set(e.pageInfo,"title",t)},expression:"pageInfo.title"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary",size:"small",plain:"",icon:"el-icon-search"},on:{click:e.getCaseList}},[e._v(" 搜索 ")])],1)],1)],1),i("div",[e.readOnly?e._e():[i("el-button",{attrs:{icon:"el-icon-plus",type:"success",size:"small"},on:{click:function(t){return e.showAddCaseDialog(!1)}}},[e._v(" 新增案例 ")]),i("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete",disabled:""===e.caseSelectedIds},on:{click:function(t){return e.deleteCaseItem(!0)}}},[e._v(" 批量删除 ")]),i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:e.showEditCourseDialog}},[e._v(" 课程信息 ")])],i("el-button",{attrs:{size:"small",type:"info",plain:""},on:{click:e.handleGoBack}},[e._v("返回")])],2)]),i("div",{staticClass:"flex-auto flex-layout"},[i("el-table",{attrs:{data:e.tableValue,border:""},on:{"row-click":e.handleRowClick,select:e.handleCaseSelected}},[e.readOnly?e._e():i("el-table-column",{attrs:{type:"selection"}}),i("el-table-column",{attrs:{label:"案例序号",prop:"cnumber"}}),i("el-table-column",{attrs:{label:"案例标题",prop:"title"}}),e.readOnly?e._e():i("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.showAddCaseDialog(!0,a)}}},[e._v(" 修改 ")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteCaseItem(!1,a)}}},[e._v(" 删除 ")])]}}],null,!1,2915475099)})],1),i("el-pagination",{attrs:{background:"","current-page":e.pageInfo["page"],"page-sizes":[10,20,50,100],"page-size":e.pageInfo["pagesize"],layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),i("editCourseDialog",{ref:"editCourse",attrs:{"course-type":0,"is-classic":!0}}),i("classicAddCaseDialog",{ref:"addCase",attrs:{"course-id":e.detailId},on:{save:e.getCaseList}})],1)},s=[],l=i("5530"),o=(i("d3b7"),i("25f0"),i("d81d"),i("3559")),n=i("5b54"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("BaseDialog",{staticClass:"full-block component-classicAddCaseDialog",attrs:{title:e.title,center:"",visible:e.visibleDialog,width:"600px",top:"15vh"},on:{"update:visible":function(t){e.visibleDialog=t},close:e.handleCloseDialog}},[i("div",{staticClass:"full-block flex-layout"},[i("el-form",{staticClass:"flex-auto"},[i("el-form-item",{attrs:{label:"*案例序号"}},[i("el-input",{staticClass:"w230",attrs:{size:"small",placeholder:"请输入案例序号",clearable:"",maxlength:10,"show-word-limit":""},model:{value:e.caseInfo["cnumber"],callback:function(t){e.$set(e.caseInfo,"cnumber",t)},expression:"caseInfo['cnumber']"}})],1),i("el-form-item",{attrs:{label:"*案例标题"}},[i("el-input",{staticClass:"w230",attrs:{size:"small",placeholder:"请输入案例标题",clearable:"",maxlength:20,"show-word-limit":""},model:{value:e.caseInfo["title"],callback:function(t){e.$set(e.caseInfo,"title",t)},expression:"caseInfo['title']"}})],1),i("el-form-item",{attrs:{label:"*案例资料"}},[i("FileUpload",{attrs:{"quantity-limit":20,"file-list":e.fileList,tips:e.uploadTips},on:{"update:fileList":function(t){e.fileList=t},"update:file-list":function(t){e.fileList=t}}})],1)],1)],1),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存")]),i("el-button",{attrs:{type:"info"},on:{click:e.handleCloseDialog}},[e._v("关闭")])],1)])],1)},r=[],u=(i("a9e3"),i("b0c0"),i("08f2")),d=i("3e2a"),p={name:"classicAddCaseDialog",components:{BaseDialog:u["a"],FileUpload:d["a"]},props:{courseId:{type:String|Number,required:!0}},mounted:function(){},data:function(){return{visibleDialog:!1,title:"案例信息",caseInfo:{id:0,cnumber:"",title:"",classic_course_id:"",resource:[]},fileList:[],uploadTips:["只能上传总计不超过20个的word、pdf、ppt、图片、视频的文件；","支持的文件格式为jpg、png、gif、jpeg、doc、docx、ppt、pptx、pdf、mp4；","单个文件的大小不能大于500MB(兆)。"]}},computed:{},watch:{visibleDialog:function(e){}},created:function(){},methods:{handleCloseDialog:function(){this.visibleDialog=!1,this.caseInfo={id:0,cnumber:"",title:"",classic_course_id:"",resource:[]},this.fileList=[]},handleSave:function(){if(""!==this.caseInfo["title"])if(this.fileList.length){this.caseInfo["classic_course_id"]=this.courseId;var e=this.fileList.map((function(e){return e["response"]?{id:0,url:e["response"]["file_path"],res_type:e["response"]["file_type"],file_name:e["response"]["file_name"],size:e["size"]}:e}));this.caseInfo["resource"]=e;var t={url:"/am/classicdetail/save",action:"案例新增修改"};t.json=Object(l["a"])({},this.caseInfo),console.log(this.caseInfo),this.handleCloseDialog(),this.$emit("save")}else this.$popTip.info("至少需要上传一个文件！");else this.$popTip.info("请输入案例标题！")},getCaseDetail:function(e){var t={url:"/am/classicdetail/detail",action:"案例详情"};t.json={id:e};var i={result:0,error:"",errorcode:0,data:{id:"1001",cnumber:"001",title:"1",classic_course_id:"1001",resource:[{id:"67001",file_name:"B098476.pdf",res_type:"3",url:"http://192.168.1.188:30012/attachment/list/22/03/05/22030586C664C2-FC31-260E-0D1E-0915AB098476.pdf",size:"253050"},{id:"67002",file_name:"20210302114323560.mp4",res_type:"1",url:"https://www.xuexixianfeng.com/files/coursewares/5/20210302114323560.mp4",size:"253050"},{id:"67003",file_name:"dasdasdas.png",res_type:"0",url:"https://img0.baidu.com/it/u=2152056041,2081043176&fm=253&fmt=auto&app=120&f=JPEG?w=1280&h=800",size:"253050"}]},debuginfo:""};this.caseInfo=i["data"],i["data"]["resource"].length&&(this.fileList=i["data"]["resource"].map((function(e){return e["name"]=e["file_name"],e})))}}},f=p,m=(i("de9e"),i("2877")),h=Object(m["a"])(f,c,r,!1,null,"759e0751",null),g=h.exports,b={name:"classicDetailPage",components:{editCourseDialog:n["a"],classicAddCaseDialog:g},props:{detailId:{type:String,required:!0},readOnly:{type:Boolean,default:!1}},data:function(){return{course:{},caseSelectedIds:"",tableValue:[],pageInfo:{cnumber:"",title:"",page:1,pagesize:10},pageTotal:0}},created:function(){},mounted:function(){this.getCourseDetail(),this.getCaseList()},filters:{},watch:{},computed:{},methods:{handleRowClick:function(e){this.readOnly&&this.$emit("row-click",e)},getCourseDetail:function(){var e={url:"/am/classic/detail",action:"课程详情"};e.json={id:this.detailId};var t={result:0,error:"",errorcode:0,data:{id:"1001",cname:"1",sort:"4",cover:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic2.zhimg.com%2Fv2-b6b082427a2ae87ddfa95ccea8b9213c_400x224.jpg&refer=http%3A%2F%2Fpic2.zhimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1652255530&t=fe0d214abca1a43dafd9d8b7460e4656"},debuginfo:""};this.course=t["data"]},handleCaseSelected:function(e){this.caseSelectedIds=e.map((function(e){return e["id"]})).toString()},getCaseList:function(){var e={url:"/am/classicdetail/list",action:"课程资源删除"};e.json=Object(l["a"])({classic_course_id:this.detailId},this.pageInfo);var t={result:0,error:"",errorcode:0,list:[{id:"1001",cnumber:"001",title:"1"}],total:1,debuginfo:""};this.tableValue=t["list"],this.pageTotal=t["total"]},handleSizeChange:function(e){this.pageInfo["pagesize"]=e,this.getCaseList()},handleCurrentChange:function(e){this.pageInfo["page"]=e,this.getCaseList()},deleteCaseItem:function(e,t){var i=this,a=e?"确认要删除所选资源吗？":"确认要删除该资源吗？";this.$confirm(a,"提示",{type:"warning"}).then((function(){var a;a=e?i.caseSelectedIds:t["id"].toString();var s={url:"/am/classicdetail/del",action:"案例删除"};s.json={ids:a},i.getCaseList(),i.$message.success("操作已完成!")})).catch((function(){i.$message.info("已取消操作!")}))},showEditCourseDialog:function(){this.$refs.editCourse.visibleDialog=!0,this.$refs.editCourse.course=o["a"].CloneDeep(this.course),this.$refs.editCourse.isAdd=!1},handleGoBack:function(){this.$emit("go-back")},showAddCaseDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;e&&this.$refs.addCase.getCaseDetail(t["id"]),this.$refs.addCase.visibleDialog=!0}}},v=b,C=(i("2615"),i("ae0b"),Object(m["a"])(v,a,s,!1,null,"921d52d6",null));t["a"]=C.exports},"776a":function(e,t,i){"use strict";i("c708")},"7b7c":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex-none component-treeBlock flex-layout"},[e._t("header",(function(){return[e.title?i("div",{staticClass:"HeaderTitle"},[i("img",{attrs:{src:e.Emblem,alt:"党徽"}}),i("span",[e._v(e._s(e.title))])]):e._e()]})),i("div",{staticClass:"TreeFilter flex-none"},[i("el-input",{attrs:{size:"small",placeholder:"过滤",maxlength:20,"show-word-limit":"",clearable:""},scopedSlots:e._u([{key:"append",fn:function(){return[i("el-button",{attrs:{icon:"el-icon-search"},on:{click:function(t){return e.$refs.tree.filter(e.treeFilterText)}}})]},proxy:!0}]),model:{value:e.treeFilterText,callback:function(t){e.treeFilterText=t},expression:"treeFilterText"}})],1),i("div",{staticClass:"TreeContent flex-auto better-scroll"},[i("el-tree",{ref:"tree",staticClass:"typeList",attrs:{"highlight-current":!0,data:e.treeList,props:e.treeProps,"node-key":"id","filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"TreeItem"},[i("div",{staticClass:"inline-block flex-auto overflow-hidden"},[i("TextTooltip",{staticStyle:{"text-align":"left"},attrs:{value:t.data.label}})],1),i("span",{staticClass:"TreeItemBtn"},[e._t("edit",null,{node:t.node,data:t.data})],2)])]}}],null,!0)})],1),i("div",{staticClass:"TreeOption flex-none"},[e._t("option")],2)],2)},s=[],l=i("dd2f"),o=i("52db"),n={name:"treeBlock",components:{TextTooltip:l["a"]},props:{treeList:{type:Array,required:!0},treeProps:{type:Object,default:{}},title:{type:String,default:""}},data:function(){return{Emblem:o,treeFilterText:""}},created:function(){},mounted:function(){},filters:{},watch:{},computed:{},methods:{handleNodeClick:function(e){this.$emit("node-click",e)},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)}}},c=n,r=(i("6de6"),i("0056"),i("2877")),u=Object(r["a"])(c,a,s,!1,null,"4bddda35",null);t["a"]=u.exports},"87b1b":function(e,t,i){},"97ee":function(e,t,i){},ae0b:function(e,t,i){"use strict";i("1f3c")},b5db:function(e,t,i){},c708:function(e,t,i){},d53b:function(e,t,i){},de9e:function(e,t,i){"use strict";i("4bb9")},ec67:function(e,t,i){}}]);